<!DOCTYPE html5>
	<head>
		<title>Blackjack</title>
		<link rel="stylesheet" type="text/css" href="carry.css" title="style" />
		<link rel="stylesheet" type="text/css" href="game.css" title="style" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	</head>
	<body>
		<div class = "backContainer">
			<h1 style="text-align:center; font-size:32pt;"> Casino Adventure </h1>
			<img class="chips" src="chips.png" alt="Casino chips">
			<div class="navBar">
				<a href="../../Home/CasinoAdventure.html">Home</a>
				<div class="dropdown">
					<button class="dropbtn">Games <i class="fa fa-caret-down"></i></button>
					<div class="dropdown-content">
						<a href="../BlackJack/blackjack.html">Blackjack</a>
						<a href="../HigherOrLower/hol.html">Higher/Lower</a>
						<a href="../Dice/dice.html">7/11 Dice</a>
					</div>
				</div>
				<div class="money">
					$100
				</div>
			</div>
			<div class="game-container">
			
				<div>
					<div class="title">
						<h2> BlackJack </h2>
					</div>
				</div>
				<div class="cards-container" style="margin-top:0.5cm">
					<div class="cards-sub-container">
						<div class="player">Dealer</div>
						<img id="dcard1" class="card" alt="Dealer Card">
						<img id="dcard2" class="card" src="cardback.png" alt="cardback">
					</div>
					<div id="result" style="float:right;font-size:18pt"></div>
					<div class="cards-sub-container">
						<div class="player">Player</div>
						<img id="pcard1" class="card" src="ace_spades.png" alt="Player Card">
						<img id="pcard2" class="card" src="10_diamonds.png" alt="Player Card">
						<img id="pcard3">
						<img id="pcard4">
						<img id="pcard5">
					</div>
				</div>
				<div class="moneyturn" style="font-size:16pt;font-style:bold">
					Bet: $
					<div id="bet" style="width:2cm;height:0.8cm;background-color:white;color:black;display:inline-block;margin-left:0.2cm"></div>
					<button type="button" onclick="decreaseBet()" style="width:0.8cm;height:0.8cm;background-color:white;color:black;display:inline-block;margin-left:0.2cm">-</button>
					<button type="button" onclick="increaseBet()" style="width:0.8cm;height:0.8cm;background-color:white;color:black;display:inline-block;margin-left:0.2cm">+</button>
				</div>
				<div class="move-container">
					<button type="button" class="move-action" onclick="hit()">Hit</button>
					<button type="button" class="move-action" onclick="endGame()">Stand</button>
					<button type="button" class="move-action">Double</button>
				</div>

			</div>
		</div>
	<script type="text/javascript">
			var betAmount=0;
			document.getElementById("bet").innerHTML=money;
			var dealerScore=0;
			var playerScore=0;
			// First array is suite (clubs, diamonds, hearts, spades in order)
			// Second array is number
			var deck=[[],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]; // Keeps track of already-dealt cards
			var dealtCards=new Array(); // [0] & [1] Dealer's Cards, [2]+ Player's Cards
			var newCardCounter=4;
			for(i=0;i<4;i++)
			{
				var number=Math.floor(Math.random()*13)+1;
				var suite=Math.floor(Math.random()*4)+1;
				while(deck[suite][number]!=0) // Making sure an unused card is picked
				{
					number=Math.floor(Math.random()*13)+1;
					suite=Math.floor(Math.random()*4)+1;
				}
				deck[suite][number]=1;
				var realsuite=""
				switch(suite) {
				case 1:
				realsuite="C";
				break;
				case 2:
				realsuite="D";
				break;
				case 3:
				realsuite="H";
				break;
				case 4:
				realsuite="S";
				break;
				}
				var cardname=number+""+realsuite;
				dealtCards[i]=cardname;
				if(i<2)
				{
					if(number<10)
					{
						dealerScore+=number;
					}
					else
					{
						dealerScore+=10;
					}
				}
				else
				{
					if(number<10)
					{
						playerScore+=number;
					}
					else
					{
						playerScore+=10;
					}
				}
			}
			for(i=0;i<4;i++)
			{
				var card1=dealtCards[i];
				var temp=card1+".png";
				switch(i) {
				case 0:
				document.getElementById("dcard1").src=temp;
				break;
				case 2:
				document.getElementById("pcard1").src=temp;
				break;
				case 3:
				document.getElementById("pcard2").src=temp;
				}
			}
			function increaseBet() {
				betAmount+=25;
				document.getElementById("bet").innerHTML=betAmount;
			}
			function decreaseBet() {
				if(betAmount>0)
				{
					betAmount-=25;
				}
				document.getElementById("bet").innerHTML=betAmount;
			}
			function hit() {
				var number=Math.floor(Math.random()*13)+1;
				var suite=Math.floor(Math.random()*4)+1;
				while(deck[suite][number]!=0) // Making sure an unused card is picked
				{
					number=Math.floor(Math.random()*13)+1;
					suite=Math.floor(Math.random()*4)+1;
				}
				deck[suite][number]=1;
				var realsuite=""
				switch(suite) {
				case 1:
				realsuite="C";
				break;
				case 2:
				realsuite="D";
				break;
				case 3:
				realsuite="H";
				break;
				case 4:
				realsuite="S";
				break;
				}
				var cardname=number+""+realsuite;
				dealtCards[newCardCounter]=cardname;
				var temp=cardname+".png";
				var temp1=newCardCounter-1;
				var temp2="pcard"+temp1;
				document.getElementById(temp2).src=temp;
				document.getElementById(temp2).style.height="200px";
				document.getElementById(temp2).style.padding="50px 10px";
				if(number<10)
				{
					playerScore+=number;
					if(playerScore>21)
					{
						endGame();
					}
					else if(newCardCounter>5)
					{
						endGame();
					}
				}
				else
				{
					playerScore+=10;
					if(playerScore>21)
					{
						endGame();
					}
					else if(newCardCounter>5)
					{
						endGame();
					}
				}
				newCardCounter++;
			}
			function endGame()
			{
				var temp=dealtCards[1];
				var temp1=temp+".png";
				document.getElementById("dcard2").src=temp1;
				if(dealtCards[6]!=null&&playerScore<=21)
				{
					document.getElementById("result").className="title";
					document.getElementById("result").style.float="right";
					document.getElementById("result").style.width="3cm";
					document.getElementById("result").innerHTML="You win!!";
				}
				else if(playerScore<=21&&playerScore>dealerScore)
				{
					document.getElementById("result").className="title";
					document.getElementById("result").style.float="right";
					document.getElementById("result").style.width="3cm";
					document.getElementById("result").innerHTML="You win!!";
				}
				else
				{
					document.getElementById("result").className="title";
					document.getElementById("result").style.float="right";
					document.getElementById("result").style.width="3cm";
					document.getElementById("result").innerHTML="You lose.";
				}
			}
			</script>
	</body>
</html>